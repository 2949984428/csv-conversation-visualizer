# CSV对话可视化工具 - 安装使用说明

## 简介
这是一个专门用于处理和可视化AI对话数据的工具，支持解析复杂的CSV文件并生成美观的HTML报告。

## 主要功能
- ✅ CSV文件解析与数据处理
- ✅ AI处理步骤智能识别与格式化
- ✅ 单轮/多轮对话模板自动推荐
- ✅ 媒体文件预览与批量下载
- ✅ 自动生成HTML报告并下载
- ✅ 响应式设计，支持移动端

## 系统要求
- Node.js 14.0 或更高版本
- 支持的操作系统：Windows、macOS、Linux

## 安装步骤

### 1. 解压文件
将 `csv-visualizer-tool.zip` 解压到任意目录

### 2. 安装依赖
打开终端/命令提示符，进入解压后的目录：
```bash
cd csv-visualizer
npm install
```

### 3. 启动工具

#### 方法一：使用启动脚本（推荐）
**macOS/Linux:**
```bash
./启动工具.command
```
或
```bash
./start-local.sh
```

**Windows:**
```bash
npm start
```

#### 方法二：手动启动
```bash
node server.js
```

### 4. 访问工具
浏览器会自动打开，或手动访问：http://localhost:3000

## 使用方法

### 1. 上传CSV文件
- 拖拽CSV文件到上传区域
- 或点击"选择文件"按钮

### 2. 选择模板
- 系统会自动分析数据结构
- 推荐合适的模板类型：
  - **单轮对话**：适用于独立的对话记录
  - **多轮对话**：适用于会话制的对话数据

### 3. 查看结果
- 系统自动生成HTML报告
- 支持搜索、分页、媒体预览
- AI处理步骤以结构化文本显示

### 4. 下载报告
- 点击"生成HTML文件"自动下载
- 生成的HTML文件可离线使用

## CSV数据格式要求

### 基本字段
- `input`: 用户输入（JSON格式）
- `output`: AI输出
- `timestamp`: 时间戳
- `id`: 记录ID

### 多轮对话额外字段
- `sessionId`: 会话ID
- `userId`: 用户ID

### 示例数据格式
```json
{
  "input": "{\"user_input\":\"[{\\\"type\\\":\\\"text\\\",\\\"text\\\":\\\"请帮我分析这张图片\\\"}]\"}",
  "output": "步骤1: Observation of Tool `image_analyzer`...",
  "timestamp": "2024-01-01 10:00:00",
  "id": "1"
}
```

## AI步骤处理

工具能智能识别以下AI工具调用：
- `image_analyzer`: 图片分析
- `Navo_image_generate`: 图片生成
- `poster_design_guidance`: 设计指导
- `handoff`: 任务交接
- `make_plan`: 计划制定
- `terminate`: 任务完成

## 故障排除

### 1. 端口占用
如果端口3000被占用，工具会自动尝试关闭占用进程。

### 2. 依赖安装失败
```bash
# 清理缓存重新安装
npm cache clean --force
npm install
```

### 3. CSV解析错误
- 确保CSV文件格式正确
- 检查是否有特殊字符需要转义
- 确保JSON字段格式正确

### 4. 浏览器兼容性
建议使用现代浏览器：
- Chrome 80+
- Firefox 75+
- Safari 13+
- Edge 80+

## 技术支持

如遇问题，请检查：
1. Node.js版本是否符合要求
2. 网络连接是否正常
3. 防火墙是否阻止了3000端口

## 版本信息
- 版本：1.0.0
- 更新日期：2024年
- 支持的数据格式：CSV
- 输出格式：HTML

---
💡 **使用提示**: 建议先用小批量数据测试，确认格式正确后再处理大批量数据。